<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <script src="../js/jquery-3.6.4.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>

    <style>
        .error {
            color: red;
            font-style: italic;
        }
        .border-text {
            border: 1px solid red;
        }
        
        [class*="col-"] {
            padding: 0px;
        }
    </style>

    <script>
        $(document).ready(function(){
            //xử lí function
            function ktMa(){
                let ma = $('#txtMa').val();
                let pat = /^SP\d{4}((NK|XK))$/g
                if (pat.test(ma)) {
                    $('#erma').html("*");
                    $('#txtMa').removeClass('border-text');
                    return true;

                } else {
                    $('#erma').html("Ma Sai");
                    $('#erma').addClass('error');
                    $('#txtMa').addClass('border-text');
                    return flase;
                }
            }
            $('#txtMa').blur(function(e){
                ktMa();
            });

            $('#btn').click(function(e) {
                let ma =$('#txtMa').val();
                let ngay = $('#txtNgay').val();
                let ten =$('#txtTen').val();
                
                let hinhthuc =$("input[name='tt']:checked").val();
                let loai = [];
                $.each($("input[name='loai']:checked"), function() {
                    loai.push($(this).val());
                    
                });
                let loaisp = $('#lstLoai option:selected').text();

                let thue = $('#lstLoai option:selected').val();
                if(ktMa()){
                    let trnew = "<tr><td>" + ma + "</td><td>" + ten + "</td><td>" + ngay+ "</td><td>" + loaisp +
                        "</td><td>" + hinhthuc+ "</td><td>" + loai +" </td><td> "+ thue +" </td></tr>";

                    $('#tblsp').append(trnew);
                }
             });

            // $('#lstLoai').change(function(e){
            //     let thue = $('#lstLoai option:selected').val();
            //     $('#txtthue').val(thue);
            //     alert(thue);
            // });
     });

    </script>

</head>
<body>
   <div class="container">
    <div class="row" >
        <div class="col-12 bg-info" style="height:100px;">
            <h1 class="text-center text-danger">Header</h1>
        </div>

    </div>
    <div class="row  bg-success">
       <div class="col-12">
            <nav class="navbar navbar-expand">
                <ul class="navbar-nav">
                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                </ul>
            </nav>
       </div>
    </div>
    <div class="row">
        <div class="col-2 bg-dark">
            <nav class="navbar">
                <ul class="navbar-nav">
                    <li class="nav-item"><a href="#" class="nav-link" data-target="#Mymodal" data-toggle="modal">Form Đăng kí</a></li>

                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                    <li class="nav-item"><a href="#" class="nav-link">Link</a></li>
                </ul>
            </nav>
        </div>
        <div class="col-10">

            <table class="table table-info" id="tblsp">
                    <tr>
                        <th>Mã</th>
                        <th>Tên</th>
                        <th>Ngày</th>
                        <th>Loại sản phẩm</th>
                        <th>Hình Thức</th>
                        <th>Loại</th>
                        <th>Thuế</th>
                    </tr>
            </table>
        </div>
    </div>
    <div class="row">
        <div class="col-12 bg-info">
            Phan Đình Thái-21038281
        </div>
    </div>
   </div> 
<!-- Modal -->
   <div class="modal" id ='Mymodal'>
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h1>Quản Lí Sản Phẩm</h1>
                <button data-dismiss="modal" class="close">&times;</button>
            </div>
            <div class="modal-body">
                <form action="">
                    <div class="row form-group">
                        <label for="" class="col-2">Mã Sản Phẩm</label>
                        <div class="col-10">
                            <input type="text" class="form-control" id="txtMa">
                            <span id="erma">(*)</span>
                        </div>
                    </div>
                    <div class="row form-group">
                        <label for="" class="col-2">Tên</label>
                        <div class="col-10">
                            <input type="text" class="form-control" id="txtTen">
                        </div>
                    </div>
                    <div class="row form-group">
                        <label for="" class="col-2">Ngày</label>
                        <div class="col-10">
                            <input type="date" class="form-control" id="txtNgay" placeholder="dd/mm/yyyy">
                        </div>
                    </div>
                    <div class="row form-group">
                        <label for="" class="col-2">Loại</label>
                        <div class="col-10">
                           <select name="" id="lstLoai" class="form-control">
                                <option value="5%">Bánh Ngọt</option>
                                <option value="10%">Nước Ngọt</option>
                                <option value="15%">Bia</option>
                           </select>
                        </div>
                    </div>
                    <div class="row form-group">
                        <label for="" class="col-2">Thuế</label>
                        <div class="col-10">
                            <input type="text" class="form-control" id="txtthue" readonly="true">
                        </div>
                    </div>
                    <div class="row form-group">
                        <label for="" class="col-2">Thanh Toán</label>
                        <div class="col-10">
                            <input type="radio" name="tt" value="Online" class="form-check-inline"> Online
                            <input type="radio" name="tt" value="tienMat" class="form-check-inline">Tien mat
                        </div>
                    </div>
                    <div class="row form-group">
                        <label for="" class="col-2">Loại hàng hóa</label>
                        <div class="col-10">
                            <input type="checkbox" name="loai" value="Nhap khau" >nhập khẩu
                            <input type="checkbox" name="loai" value="Xuat khau" >Xuất khẩu
                        </div>
                    </div>
                    <div class="row form-group">
                        <div class="col-12 text-center">
                           <button class="btn btn-dark" id="btn" type="button">Nhập Kho</button>
                           <button class="btn btn-dark">Hủy</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                210382811-PhanDinhThai
            </div>
        </div>
    </div>
   </div>
</body>
</html>